<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Détails Client</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- SIDEBAR -->
<aside class="sidebar bg-primary text-white">
  <h4 class="text-center py-3 border-bottom">Mini-ERP</h4>

  <ul class="nav nav-pills flex-column px-2">
    <li class="nav-item">
      <a class="nav-link bg-light text-primary" href="clients.html">Clients</a>
    </li>
    <li class="nav-item mt-2">
      <a class="nav-link text-white" href="utilisateur.html">Utilisateurs</a>
    </li>
  </ul>
</aside>

<!-- CONTENU -->
<div class="page">
  <h2>Détails du Client</h2>

  <div id="details" class="card p-3"></div>x

  <a class="btn btn-secondary mt-2" href="clients.html">⬅ Retour</a>
</div>

<script>
  const clients = JSON.parse(localStorage.getItem("clients")) || [];

  const indexStr = localStorage.getItem("clientIndex");
  const index = indexStr === null ? -1 : parseInt(indexStr, 10);

  const detailsEl = document.getElementById("details");

  if (index < 0 || !clients[index]) {
    detailsEl.innerHTML =
      `<div class="alert alert-warning">Client introuvable</div>`;
  } else {
    const c = clients[index];
    detailsEl.innerHTML = `
      <p><strong>Nom :</strong> ${c.nom || ""}</p>
      <p><strong>Prénom :</strong> ${c.prenom || ""}</p>
      <p><strong>Email :</strong> ${c.email || ""}</p>
      <p><strong>Téléphone :</strong> ${c.telephone || ""}</p>
      <p><strong>Adresse :</strong> ${c.adresse || ""}</p>
      <p><strong>Date de création :</strong> ${c.dateCreation || ""}</p>
    `;
  }
</script>

<script src="client.js"></script>
</body>
</html>
